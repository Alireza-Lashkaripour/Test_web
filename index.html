<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenQP Input Generator</title>
    <style>
        body { font-family: Arial, sans-serif; display: flex; height: 100vh; margin: 0; }
        .container { display: flex; flex-direction: row; width: 100%; }
        .panel { padding: 1em; border-right: 1px solid #ddd; overflow-y: auto; }
        .left-panel { width: 50%; }
        .right-panel { width: 50%; background-color: #f9f9f9; padding: 1em; }
        h2 { color: #333; }
        label { display: block; margin-top: 1em; font-weight: bold; }
        textarea, select, input { width: 100%; margin-top: 0.5em; padding: 0.5em; }
        #inputPreview { white-space: pre-wrap; font-family: monospace; }
    </style>
</head>
<body>
    <div class="container">
        <!-- Left Panel: Geometry Input and Options -->
        <div class="panel left-panel">
            <h2>OpenQP Input Generator</h2>
            
            <!-- Geometry Input -->
            <label for="geometry">Molecular Geometry (XYZ format):</label>
            <textarea id="geometry" rows="8" placeholder="Paste XYZ geometry here"></textarea>
            
            <!-- System Name -->
            <label for="systemName">System Name:</label>
            <input type="text" id="systemName" placeholder="geo">

            <!-- Calculation Options -->
            <h3>Options</h3>
            <label for="charge">Charge:</label>
            <input type="number" id="charge" value="0">

            <label for="runtype">Run Type:</label>
            <select id="runtype">
                <option value="energy">Single Point Energy</option>
            </select>

            <label for="basis">Basis Set:</label>
            <select id="basis">
                <option value="6-31g(d)">6-31G(d)</option>
            </select>

            <label for="functional">Functional:</label>
            <select id="functional">
                <option value="bhhlyp">BHHLYP</option>
            </select>

            <label for="method">Method:</label>
            <select id="method">
                <option value="tdhf">TDHF</option>
            </select>

            <label for="multiplicity">Multiplicity:</label>
            <select id="multiplicity">
                <option value="3">3</option>
            </select>

            <label for="tdhfType">TDHF Type:</label>
            <select id="tdhfType">
                <option value="mrsf">MRSF</option>
            </select>

            <label for="nstate">NState:</label>
            <input type="number" id="nstate" value="3">

            <button type="button" onclick="updateInputPreview()">Generate Input</button>
        </div>

        <!-- Right Panel: Real-Time Input Preview -->
        <div class="panel right-panel">
            <h2>Generated Input</h2>
            <pre id="inputPreview">
# OpenQP Input Preview
            </pre>
        </div>
    </div>

    <script>
        function updateInputPreview() {
            // Retrieve user inputs
            const geometry = document.getElementById("geometry").value.trim();
            const systemName = document.getElementById("systemName").value || "geo";
            const charge = document.getElementById("charge").value;
            const runtype = document.getElementById("runtype").value;
            const basis = document.getElementById("basis").value;
            const functional = document.getElementById("functional").value;
            const method = document.getElementById("method").value;
            const multiplicity = document.getElementById("multiplicity").value;
            const tdhfType = document.getElementById("tdhfType").value;
            const nstate = document.getElementById("nstate").value;

            // Default input format for single-point energy calculation
            const inputTemplate = `
[input]
system=${systemName}.xyz
charge=${charge}
runtype=${runtype}
basis=${basis}
functional=${functional}
method=${method}

[guess]
type=huckel

[scf]
multiplicity=${multiplicity}
type=rohf

[tdhf]
type=${tdhfType}
nstate=${nstate}
            `.trim();

            // Update the input preview
            document.getElementById("inputPreview").textContent = inputTemplate;
        }
    </script>
</body>
</html>
